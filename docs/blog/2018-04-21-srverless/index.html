<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>20180329 Serverless event NOTE - David&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png?v=1">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png?v=1">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png?v=1">
  <link rel="manifest" href="/favicon/site.webmanifest?v=1">
  
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg?v=1" color="#ffffff">
    <link rel="shortcut icon" href="/favicon/favicon.ico?v=1">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml?v=1">
  
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

<meta name="generator" content="Hugo 0.71.1" /><meta itemprop="name" content="20180329 Serverless event NOTE">
<meta itemprop="description" content="Serverless for Monitoring how to debug on serverless ? how&rsquo;s the security for using serverless ? hoe&rsquo;s the latency ? how&rsquo;s the cost ? &ldquo;Less is More&rdquo; we have to focus on other things not just only code when using serverless
Structure is Changing During the application structure is changing to CaaS, we have to reduce the instances which are not for application layer as possible as we can, to avoid launching more and more instances which unnecessary to save cost.">
<meta itemprop="datePublished" content="2018-04-21T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-04-21T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="394">



<meta itemprop="keywords" content="" /><meta property="og:title" content="20180329 Serverless event NOTE" />
<meta property="og:description" content="Serverless for Monitoring how to debug on serverless ? how&rsquo;s the security for using serverless ? hoe&rsquo;s the latency ? how&rsquo;s the cost ? &ldquo;Less is More&rdquo; we have to focus on other things not just only code when using serverless
Structure is Changing During the application structure is changing to CaaS, we have to reduce the instances which are not for application layer as possible as we can, to avoid launching more and more instances which unnecessary to save cost." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/2018-04-21-srverless/" />
<meta property="article:published_time" content="2018-04-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-04-21T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="20180329 Serverless event NOTE"/>
<meta name="twitter:description" content="Serverless for Monitoring how to debug on serverless ? how&rsquo;s the security for using serverless ? hoe&rsquo;s the latency ? how&rsquo;s the cost ? &ldquo;Less is More&rdquo; we have to focus on other things not just only code when using serverless
Structure is Changing During the application structure is changing to CaaS, we have to reduce the instances which are not for application layer as possible as we can, to avoid launching more and more instances which unnecessary to save cost."/>
<link rel="stylesheet" href="/css/bundle.min.bcc5316d5606d34c1544462474ad2f6c6e8eff00bac466851ab8f3796433c89d.css" integrity="sha256-vMUxbVYG00wVREYkdK0vbG6O/wC6xGaFGrjzeWQzyJ0="><link rel="stylesheet" href="/css/add-on.css">
</head>

  <body>
    <header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/">
        
          
            Blog
          
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu">
      
        
          
          
            <a href="/" class="link"><i class='fa fa-bars'></i> Home</a>
          
        
      
        
          
          
            <a href="/about/" class="link"><i class='far fa-bookmark'></i> About</a>
          
        
      
        
          
          
            <a href="/blog/" class="link"><i class='far fa-newspaper'></i> Blog</a>
          
        
      
        
          
          
            <a href="/categories/" class="link"><i class='fas fa-sitemap'></i> Categories</a>
          
        
      
        
          
          
            <a href="/archive/" class="link"><i class='fa fa-home'></i> Archive</a>
          
        
      
      <a href="#share-menu" class="share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
      

    </menu>
    

    <a href="#share-menu" class="share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
    <a href="#lang-menu" class="lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="lang-menu" class="flyout-menu">
  <a href="#" lang="en" class="link active">English (en)</a>
  
    
      
    
      
        <a href="/zh-tw" lang="zh-tw" class="no-lang link">中文 (zh-tw)</a>
      
    
  
</menu>

  
    <menu id="share-menu" class="flyout-menu">
      <h1>Share Post</h1>
      




  
      <a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2f2018-04-21-srverless%2f" target="_blank" rel="noopener" class="share-btn facebook">
        <i class="fab fa-facebook"></i><p>&nbsp;Facebook</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=%2fblog%2f2018-04-21-srverless%2f&amp;title=20180329%20Serverless%20event%20NOTE" target="_blank" rel="noopener" class="share-btn linkedin">
            <i class="fab fa-linkedin"></i><p>&nbsp;LinkedIn</p>
          </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by David&amp;body=%2fblog%2f2018-04-21-srverless%2f" target="_blank" class="share-btn email" data-proofer-ignore>
          <i class="fas fa-envelope"></i><p>&nbsp;Email</p>
        </a>
  


    </menu>
  
</header>

    <div id="wrapper">
      <section id="site-intro" >
  <a href="/"><img src="/img/main/avator.jpg" class="circle" width="165px" alt="" /></a>
  <header>
    <h1>David Hsu</h1>
  </header>
  <main>
    <p>DevOps Engineering / AWS / Cloud Native</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        <li><a href="//github.com/davidh83110" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>

<li><a href="//stackoverflow.com/users/12397001" target="_blank" rel="noopener" title="Stack Overflow" class="fab fa-stack-overflow"></a></li>









<li><a href="//linkedin.com/in/david-hsu-b1136112b" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>



<li><a href="//slideshare.com/DavidHsu64" target="_blank" rel="noopener" title="SlideShare" class="fab fa-slideshare"></a></li>
<li><a href="//facebook.com/ben12567" target="_blank" rel="noopener" title="Facebook" class="fab fa-facebook"></a></li>








<li><a href="//instagram.com/davidh.110" target="_blank" rel="noopener" title="Instagram" class="fab fa-instagram"></a></li>













<li><a href="mailto:davidh83110@gmail.com" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
    </footer>
  
  <a href="https://www.certmetrics.com/amazon/public/badge.aspx?i=1&t=c&d=2019-11-09&ci=AWS00993116" target="_blank">
    <img src="https://www.certmetrics.com/api/ob/image/amazon/c/1" width=100px>
  </a>
</section>

      <main id="site-main">
        <article class="post">
  <header>
  <div class="title">
    
      <h2><a href="/blog/2018-04-21-srverless/">20180329 Serverless event NOTE</a></h2>
    
    
  </div>
  <div class="meta">
    <time class="published" datetime="2018-04-21 00:00:00 &#43;0000 UTC">
      April 21, 2018
    </time>
    <span class="author">David</span>
    
  </div>
</header>

  <section id="socnet-share">
    




  
      <a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2f2018-04-21-srverless%2f" target="_blank" rel="noopener" class="share-btn facebook">
        <i class="fab fa-facebook"></i><p>&nbsp;Facebook</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=%2fblog%2f2018-04-21-srverless%2f&amp;title=20180329%20Serverless%20event%20NOTE" target="_blank" rel="noopener" class="share-btn linkedin">
            <i class="fab fa-linkedin"></i><p>&nbsp;LinkedIn</p>
          </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by David&amp;body=%2fblog%2f2018-04-21-srverless%2f" target="_blank" class="share-btn email" data-proofer-ignore>
          <i class="fas fa-envelope"></i><p>&nbsp;Email</p>
        </a>
  


  </section>
  

  <div class="content">
    <!-- raw HTML omitted -->
<h2 id="serverless-for-monitoring"><strong>Serverless for Monitoring</strong></h2>
<p>how to debug on serverless ? <!-- raw HTML omitted -->
how&rsquo;s the security for using serverless ? <!-- raw HTML omitted -->
hoe&rsquo;s the latency ? <!-- raw HTML omitted -->
how&rsquo;s the cost ? <!-- raw HTML omitted --></p>
<p><strong><em>&ldquo;Less is More&rdquo;</em></strong> <!-- raw HTML omitted -->
we have to focus on other things not just only code when using serverless</p>
<p><!-- raw HTML omitted --></p>
<h2 id="structure-is-changing">Structure is Changing</h2>
<p>During the application structure is changing to CaaS, we have to reduce the instances which are not for application layer as possible as we can, to avoid launching more and more instances which unnecessary to save cost.
<!-- raw HTML omitted -->
<strong>&ldquo;Switching those instances to serverless is a good solution&rdquo;</strong></p>
<p><!-- raw HTML omitted --></p>
<h2 id="what-is-serverless">What is Serverless</h2>
<ul>
<li>Event driven</li>
<li>No needs to hosting infrasturature by ourself</li>
<li>High Reliable (hosting by third party)</li>
<li>Launch by crontab not always online</li>
<li>But not all of services suit serverless</li>
</ul>
<p><!-- raw HTML omitted --></p>
<h2 id="what-is-the-benefit-for-using-serverless">What is the benefit for using Serverless</h2>
<ul>
<li>Enchance effectivence</li>
<li>No needs to manage instances including scaling</li>
<li>Cost down (if you use it on correct way)</li>
<li>Micro services</li>
</ul>
<p><!-- raw HTML omitted --></p>
<h2 id="what-is-the-shortcomings-for-using-serverless">What is the shortcomings for using Serverless</h2>
<ul>
<li>Lang (Node.js/Python/Go/C#&hellip;.. but no Ruby!!)</li>
<li>How to test, debug and collect log ?</li>
<li>How to monitor your Lambda monitoring functions ?</li>
<li>How to CI/CD and version control ?</li>
<li>Should not launch for long time</li>
<li>Depends on third party services (e.g. It&rsquo;s too difficult from using AWS Lambda to Azure Functions)</li>
<li>Performance (high cold start time)</li>
</ul>
<p><!-- raw HTML omitted --></p>
<p><strong>&ldquo;You buy a car just like using EC2, rent a car just like using Lambda&rdquo;</strong></p>
<p><!-- raw HTML omitted --></p>
<h2 id="when-should-we-using-serverless">When should we using Serverless</h2>
<ul>
<li>lower requests count</li>
<li>high networking traffic but in very short time
(In EC2 case, we need to scale out first or auto scaling, but auto scaling is not fast at all to againest short time traffic)</li>
</ul>
<p>-&gt; Push notification to user <!-- raw HTML omitted -->
-&gt; IoT <!-- raw HTML omitted -->
-&gt; Data Analyze <!-- raw HTML omitted -->
-&gt; Chatbot <!-- raw HTML omitted -->
-&gt; Monitoring <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --></p>
<h2 id="monitoring-by-serverless">Monitoring by Serverless</h2>
<ul>
<li>Latency (Domain name lookup / TCP TLS handshake)</li>
<li>cURL is a excellent tool</li>
</ul>
<p><img src="https://i.imgur.com/0oVk4Vy.png" alt=""></p>
<p><img src="https://i.imgur.com/TiNuUqz.png" alt=""></p>
<p><!-- raw HTML omitted --></p>
<h2 id="common-use-case">Common use case</h2>
<p><img src="https://i.imgur.com/3YIZLho.png" alt=""></p>
<p><img src="https://i.imgur.com/f1UhVJU.png" alt=""></p>
<p><img src="https://i.imgur.com/u2cbiTf.png" alt=""></p>
<p><img src="https://i.imgur.com/EJlDq8n.png" alt=""></p>
<p><img src="https://i.imgur.com/r0Gqqlc.png" alt=""></p>
<p><img src="https://i.imgur.com/9sqkEO1.png" alt=""></p>
<p><img src="https://i.imgur.com/r5oOfRr.png" alt=""></p>
<p><img src="https://i.imgur.com/UYw6R8X.png" alt=""></p>
<p><img src="https://i.imgur.com/xYVRnFi.png" alt=""></p>
<p><!-- raw HTML omitted --></p>
<h2 id="what-can-we-do-or-improve-something-">What can we do or improve something ?</h2>
<ul>
<li>Nginx access log &amp; Application production log -&gt; EFK</li>
<li>Nginx error log (log level: warn) -&gt; cloudwatch -&gt; Lambda -&gt; Slack</li>
<li>Don&rsquo;t Stream Access logs and others which Lambda doesn&rsquo;t need to save money</li>
<li>Build Slack slash command for request count/latency/4xx error&hellip;etc count</li>
<li>Slack App for alert massive error log</li>
<li>Slack App for check merchant&rsquo;s shops SSL expiration day</li>
<li>Version control Lambda function for AB testing</li>
</ul>
<p><!-- raw HTML omitted --></p>
<h2 id="reference">Reference</h2>
<p><a href="https://day.ithome.com.tw/serverless/">https://day.ithome.com.tw/serverless/</a> <!-- raw HTML omitted --></p>
<p><a href="https://serverless.com/">https://serverless.com/</a> <!-- raw HTML omitted --></p>
<p>Cliff <!-- raw HTML omitted -->
<a href="https://github.com/clifflu?tab=repositories">https://github.com/clifflu?tab=repositories</a></p>
<p>Poga - Built his own serverless called Spacer <!-- raw HTML omitted -->
<a href="https://github.com/poga/spacer">https://github.com/poga/spacer</a></p>
<p>Rick Huang - 91APP tech manager <!-- raw HTML omitted -->
<a href="https://rickhw.github.io/">https://rickhw.github.io/</a></p>
<p><!-- raw HTML omitted -->
<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></p>

  </div>
  <footer>
    <ul class="stats">
  
    
    
      <li class="categories">
        <ul>
          
            
            <li><a class="article-category-link" href="/categories/%E6%8A%80%E8%A1%93%E7%B0%A1%E4%BB%8B">技術簡介</a></li>
          
            
            <li><a class="article-category-link" href="/categories/aws">AWS</a></li>
          
            
            <li><a class="article-category-link" href="/categories/serverless">Serverless</a></li>
          
        </ul>
      </li>
    
  
  
    <li class="tags">
      <ul>
        <li>None</li>
      </ul>
    </li>
  
</ul>

  </footer>
</article>

    <article class="post">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "davidh83110" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </article>




<div class="pagination">
  
    <a href="/blog/2017-10-27-aws-ecs/" class="button"><div class="previous"><div>AWS EC2 Container Service (ECS) Note</div></div></a>
  
  
    <a href="/blog/2018-07-21-import-els/" class="button"><div class="next"><div>How to Import data to Elasticsearch (Nginx Access logs)</div></div></a>
  
</div>


      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent posts</h1>
      </header>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h4><a href="/blog/2020-05-14-eks-external-dns/">EKS External-DNS Cross Account Route53 Setup</a></h4>
          <time class="published" datetime="">May 14, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h4><a href="/blog/2020-03-30-eks-install/">EKS Building &amp; Troubleshooting</a></h4>
          <time class="published" datetime="">March 30, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h4><a href="/blog/2020-03-05-saas-self-hosted/">SaaS/Managed Services &amp; Self-Hosted 衍伸思考</a></h4>
          <time class="published" datetime="">March 5, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h4><a href="/blog/2020-02-15-cloud-native-log-solution/">Cloud-Native LOG 儲存以及分析方案</a></h4>
          <time class="published" datetime="">February 15, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h4><a href="/blog/2019-12-05-aws-saa-pass/">AWS Solutions Architect Associate (SAA) - [PASSED] 心得以及攻略</a></h4>
          <time class="published" datetime="">December 5, 2019</time>
        </header>
      </article>
      
      
        <footer>
          <a href="/blog/" class="button">See more</a>
        </footer>
      
    </section>
  

  
    
      <section id="categories">
        <header>
          <h1><a href="/categories">Categories</a></h1>
        </header>
        <ul>
          
            
          
          
          <li>
            
              <a href="/categories/%E6%8A%80%E8%A1%93%E7%B0%A1%E4%BB%8B/">技術簡介<span class="count">13</span></a>
            
          
          <li>
            
              <a href="/categories/%E7%B3%BB%E7%B5%B1%E5%BB%BA%E7%BD%AE/">系統建置<span class="count">9</span></a>
            
          
          <li>
            
              <a href="/categories/aws/">aws<span class="count">7</span></a>
            
          
          <li>
            
              <a href="/categories/%E9%9B%9C%E4%B8%83%E9%9B%9C%E5%85%AB/">雜七雜八<span class="count">5</span></a>
            
          
          <li>
            
              <a href="/categories/python/">python<span class="count">4</span></a>
            
          
          <li>
            
              <a href="/categories/terraform/">terraform<span class="count">3</span></a>
            
          
          <li>
            
              <a href="/categories/kubernetes/">kubernetes<span class="count">2</span></a>
            
          
          <li>
            
              <a href="/categories/owasp-top10/">owasp-top10<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/serverless/">serverless<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E6%85%A7/">人工智慧<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B/">前端工程<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/%E5%BE%8C%E7%AB%AF%E5%B7%A5%E7%A8%8B/">後端工程<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/%E8%B3%87%E8%A8%8A%E5%AE%89%E5%85%A8/">資訊安全<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/%E9%A7%AD%E5%AE%A2%E6%8A%80%E8%A1%93/">駭客技術<span class="count">1</span></a>
            
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>This theme was developed for Hugo static site generator.</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        <li><a href="//github.com/davidh83110" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>

<li><a href="//stackoverflow.com/users/12397001" target="_blank" rel="noopener" title="Stack Overflow" class="fab fa-stack-overflow"></a></li>









<li><a href="//linkedin.com/in/david-hsu-b1136112b" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>



<li><a href="//slideshare.com/DavidHsu64" target="_blank" rel="noopener" title="SlideShare" class="fab fa-slideshare"></a></li>
<li><a href="//facebook.com/ben12567" target="_blank" rel="noopener" title="Facebook" class="fab fa-facebook"></a></li>








<li><a href="//instagram.com/davidh.110" target="_blank" rel="noopener" title="Instagram" class="fab fa-instagram"></a></li>













<li><a href="mailto:davidh83110@gmail.com" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
  
  <p class="copyright">
    
      &copy; 2020
      
        David&#39;s Blog
      
    . <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.71.1' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      <script src="/js/highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script><script src="/js/bundle.min.ba01f4c6fd09c8681f5bb9960755a2d29a543735c990ef92c5c97365cbb37a4e.js" integrity="sha256-ugH0xv0JyGgfW7mWB1Wi0ppUNzXJkO&#43;SxclzZcuzek4="></script>
    <script src="/js/add-on.js"></script>
    </div>
  </body>
</html>
